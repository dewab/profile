# Rules

## Print a horizontal rule
rule () {
      local cols=${COLUMNS:-$(tput cols 2>/dev/null || echo 80)}
      printf -v _hr "%*s" "${cols}" ''
      echo "${_hr// /${1--}}"
}

## Print horizontal ruler with message
rulem ()  {
      if [ $# -eq 0 ]; then
          echo "Usage: rulem MESSAGE [RULE_CHARACTER]"
              return 1
      fi
      local cols=${COLUMNS:-$(tput cols 2>/dev/null || echo 80)}
      printf -v _hr "%*s" "${cols}" ''
      # Fill line with ruler character ($2, default "-"), reset cursor, move 2 cols right, print message
      echo -en "${_hr// /${2--}}"
      echo -e "\r\033[2C$1"
}

rulemc ()  {
      if [ $# -eq 0 ]; then
          echo "Usage: rulem MESSAGE [RULE_CHARACTER]"
              return 1
      fi
      local cols=${COLUMNS:-$(tput cols 2>/dev/null || echo 80)}
      printf -v _hr "%*s" "${cols}" ''
      # Fill line with ruler character ($2, default "-"), reset cursor, move 2 cols right, print message
      print -n "${_hr// /${2--}}"
      printf "\r\033[2C${fg[yellow]}${1}${reset_color}\n"
}
